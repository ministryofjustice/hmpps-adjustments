{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "./remandOffence.njk" import offenceList %}

{% macro remandCard(adjustment, offenderNo, alternateSummaryListStyle) %}
{% if alternateSummaryListStyle %}
  {% set summaryListClasses = "no-footer-summary-list" %}
{% else %}
  {% set summaryListClasses = "" %}
{% endif %}
<div class="adjustment-card full clear govuk-!-margin-bottom-4">
    <div class="govuk-summary-card__title-wrapper adjustment-card-heading clear">
        <h2 class="govuk-summary-card__title">{{'From ' + adjustment.fromDate | date("DD MMM YYYY") + ' to ' + adjustment.toDate | date("DD MMM YYYY")}}</h2>
        <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
                <a class="govuk-link" href="/{{ offenderNo }}/remand/edit/{{ adjustment.id }}">
                  Edit<span class="govuk-visually-hidden"> remand from {{adjustment.fromDate | date("DD MMM YYYY")}} to {{adjustment.toDate | date("DD MMM YYYY")}}</span>
                </a>
            </li>
            <li class="govuk-summary-card__action">
                <a class="govuk-link" href="/{{ offenderNo }}/remand/remove/{{ adjustment.id }}">
                  Delete<span class="govuk-visually-hidden"> remand from {{adjustment.fromDate | date("DD MMM YYYY")}} to {{adjustment.toDate | date("DD MMM YYYY")}}</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="adjustment-card_content">
      {{ govukSummaryList({
          classes: summaryListClasses,
          rows: [
          {  
            key: {
              text: "Offences"
            },
            value: {
              html: offenceList(adjustment.offences)
            }
          },    
          {
            key: {
              text: "Days"
            },
            value: {
              text: adjustment.daysToDisplay
            }
          }]
        }) }}
    </div>
</div>
{% endmacro %}
